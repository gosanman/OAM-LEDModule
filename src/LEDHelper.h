#pragma once

#include <Arduino.h>

/*

void setDimmingCurves();

// calc RGBW curve
uint8_t firstOnValue = 1;
uint8_t maxR = 255; // to match the same brightness on different colors
uint8_t maxG = 255; // reduce brightnes of some colors
uint8_t maxB = 255; // also usefull to make not "to blueisch" white
uint8_t maxW = 255; // recomended values: R:255,G:176,B:240,W:255
uint8_t whiteType = 0; // if RGBW used, 0=warm, 1=neutral, 2=cold
float gammaCorrection = 1.0;

byte curveR[256];
byte curveG[256];
byte curveB[256];
byte curveW[256];
// calc RGB curve

*/

// all dim curves with 12 bit resolution 0(A) = linear, 1(B) = gamma 2.8, 2(C) = gamma 3.8, 3(D) = CIE
const uint16_t curves[256][4] PROGMEM = {
{0, 0, 0, 0},
{16, 0, 0, 2},
{32, 0, 0, 4},
{48, 0, 0, 5},
{64, 0, 0, 7},
{80, 0, 0, 9},
{96, 0, 0, 11},
{112, 0, 0, 12},
{128, 0, 0, 14},
{144, 0, 0, 16},
{160, 1, 0, 18},
{176, 1, 0, 20},
{192, 1, 0, 21},
{208, 1, 0, 23},
{224, 1, 0, 25},
{240, 2, 0, 27},
{256, 2, 0, 28},
{272, 2, 0, 30},
{288, 3, 0, 32},
{304, 3, 0, 34},
{320, 4, 0, 36},
{336, 4, 0, 37},
{352, 5, 0, 39},
{368, 5, 1, 41},
{384, 6, 1, 43},
{400, 7, 1, 45},
{416, 8, 1, 47},
{432, 8, 1, 49},
{448, 9, 1, 52},
{464, 10, 1, 54},
{480, 11, 1, 56},
{496, 12, 2, 59},
{512, 13, 2, 61},
{528, 15, 2, 64},
{544, 16, 2, 66},
{560, 17, 2, 69},
{576, 18, 3, 72},
{592, 20, 3, 75},
{608, 21, 3, 77},
{624, 23, 4, 80},
{640, 25, 4, 83},
{656, 26, 4, 87},
{672, 28, 5, 90},
{688, 30, 5, 93},
{704, 32, 6, 97},
{720, 34, 6, 100},
{736, 36, 7, 103},
{752, 38, 7, 107},
{768, 40, 8, 111},
{784, 43, 8, 115},
{800, 45, 9, 118},
{816, 48, 10, 122},
{832, 50, 10, 126},
{848, 53, 11, 131},
{864, 56, 12, 135},
{880, 59, 13, 139},
{896, 62, 14, 144},
{912, 65, 15, 148},
{928, 68, 16, 153},
{944, 71, 17, 157},
{960, 75, 18, 162},
{976, 78, 19, 167},
{992, 82, 20, 172},
{1008, 85, 21, 177},
{1024, 89, 23, 182},
{1040, 93, 24, 187},
{1056, 97, 25, 193},
{1072, 101, 27, 198},
{1088, 105, 29, 204},
{1104, 110, 30, 209},
{1120, 114, 32, 215},
{1136, 119, 34, 221},
{1152, 123, 35, 227},
{1168, 128, 37, 233},
{1184, 133, 39, 239},
{1200, 138, 41, 246},
{1216, 143, 43, 252},
{1232, 149, 45, 259},
{1248, 154, 48, 265},
{1264, 159, 50, 272},
{1280, 165, 52, 279},
{1296, 171, 55, 286},
{1312, 177, 58, 293},
{1328, 183, 60, 300},
{1344, 189, 63, 308},
{1360, 195, 66, 315},
{1376, 202, 69, 323},
{1392, 208, 72, 330},
{1408, 215, 75, 338},
{1424, 222, 78, 346},
{1440, 229, 82, 354},
{1456, 236, 85, 362},
{1472, 243, 89, 371},
{1488, 250, 92, 379},
{1504, 258, 96, 388},
{1520, 266, 100, 396},
{1536, 274, 104, 405},
{1552, 282, 108, 414},
{1568, 290, 112, 423},
{1584, 298, 117, 432},
{1600, 306, 121, 442},
{1616, 315, 126, 451},
{1632, 324, 131, 461},
{1648, 332, 136, 471},
{1664, 341, 141, 480},
{1680, 351, 146, 490},
{1696, 360, 151, 501},
{1712, 370, 156, 511},
{1728, 379, 162, 521},
{1744, 389, 168, 532},
{1760, 399, 174, 543},
{1776, 409, 180, 554},
{1792, 419, 186, 565},
{1808, 430, 192, 576},
{1824, 441, 199, 587},
{1840, 451, 205, 599},
{1856, 462, 212, 610},
{1872, 473, 219, 622},
{1888, 485, 226, 634},
{1904, 496, 234, 646},
{1920, 508, 241, 658},
{1936, 520, 249, 670},
{1952, 532, 256, 683},
{1968, 544, 264, 696},
{1984, 556, 273, 708},
{2000, 569, 281, 721},
{2016, 582, 290, 734},
{2032, 595, 298, 748},
{2048, 608, 307, 761},
{2064, 621, 317, 775},
{2080, 634, 326, 789},
{2096, 648, 335, 802},
{2112, 662, 345, 817},
{2128, 676, 355, 831},
{2144, 690, 365, 845},
{2160, 705, 376, 860},
{2176, 719, 386, 875},
{2192, 734, 397, 890},
{2208, 749, 408, 905},
{2224, 764, 419, 920},
{2240, 780, 431, 935},
{2256, 795, 443, 951},
{2272, 811, 455, 967},
{2288, 827, 467, 983},
{2304, 843, 479, 999},
{2320, 859, 492, 1015},
{2336, 876, 505, 1032},
{2352, 893, 518, 1048},
{2368, 910, 532, 1065},
{2384, 927, 545, 1082},
{2400, 944, 559, 1099},
{2416, 962, 573, 1117},
{2432, 980, 588, 1134},
{2448, 998, 603, 1152},
{2464, 1016, 618, 1170},
{2480, 1035, 633, 1188},
{2496, 1053, 648, 1206},
{2512, 1072, 664, 1225},
{2528, 1091, 680, 1243},
{2544, 1111, 697, 1262},
{2560, 1130, 713, 1281},
{2576, 1150, 730, 1301},
{2592, 1170, 748, 1320},
{2608, 1190, 765, 1340},
{2624, 1211, 783, 1359},
{2640, 1231, 801, 1379},
{2656, 1252, 820, 1400},
{2672, 1273, 839, 1420},
{2688, 1295, 858, 1441},
{2704, 1316, 877, 1461},
{2720, 1338, 897, 1482},
{2736, 1360, 917, 1504},
{2752, 1382, 938, 1525},
{2768, 1405, 958, 1547},
{2784, 1427, 979, 1568},
{2800, 1450, 1001, 1590},
{2816, 1474, 1023, 1613},
{2832, 1497, 1045, 1635},
{2848, 1521, 1067, 1658},
{2864, 1545, 1090, 1681},
{2880, 1569, 1113, 1704},
{2896, 1593, 1137, 1727},
{2912, 1618, 1161, 1750},
{2928, 1643, 1185, 1774},
{2944, 1668, 1210, 1798},
{2960, 1693, 1235, 1822},
{2976, 1719, 1260, 1846},
{2992, 1745, 1286, 1871},
{3008, 1771, 1312, 1896},
{3024, 1797, 1339, 1921},
{3040, 1824, 1366, 1946},
{3056, 1851, 1393, 1971},
{3072, 1878, 1421, 1997},
{3088, 1905, 1449, 2023},
{3104, 1933, 1478, 2049},
{3120, 1960, 1507, 2075},
{3136, 1989, 1536, 2101},
{3152, 2017, 1566, 2128},
{3168, 2046, 1596, 2155},
{3184, 2075, 1627, 2182},
{3200, 2104, 1658, 2210},
{3216, 2133, 1689, 2237},
{3232, 2163, 1721, 2265},
{3248, 2193, 1754, 2293},
{3264, 2223, 1787, 2322},
{3280, 2254, 1820, 2350},
{3296, 2284, 1854, 2379},
{3312, 2315, 1888, 2408},
{3328, 2347, 1923, 2437},
{3344, 2378, 1958, 2467},
{3360, 2410, 1994, 2497},
{3376, 2442, 2030, 2527},
{3392, 2475, 2067, 2557},
{3408, 2507, 2104, 2587},
{3424, 2540, 2141, 2618},
{3440, 2573, 2179, 2649},
{3456, 2607, 2218, 2680},
{3472, 2641, 2257, 2712},
{3488, 2675, 2297, 2743},
{3504, 2709, 2337, 2775},
{3520, 2744, 2377, 2807},
{3536, 2779, 2418, 2840},
{3552, 2814, 2460, 2872},
{3568, 2849, 2502, 2905},
{3584, 2885, 2545, 2938},
{3600, 2921, 2588, 2972},
{3616, 2957, 2632, 3006},
{3632, 2994, 2676, 3039},
{3648, 3031, 2721, 3074},
{3664, 3068, 2767, 3108},
{3680, 3106, 2813, 3143},
{3696, 3144, 2859, 3178},
{3712, 3182, 2906, 3213},
{3728, 3220, 2954, 3248},
{3744, 3259, 3002, 3284},
{3760, 3298, 3051, 3320},
{3776, 3337, 3101, 3356},
{3792, 3376, 3151, 3393},
{3808, 3416, 3201, 3430},
{3824, 3457, 3252, 3467},
{3840, 3497, 3304, 3504},
{3856, 3538, 3357, 3542},
{3872, 3579, 3410, 3579},
{3888, 3620, 3463, 3617},
{3904, 3662, 3517, 3656},
{3920, 3704, 3572, 3694},
{3936, 3746, 3628, 3733},
{3952, 3789, 3684, 3773},
{3968, 3832, 3741, 3812},
{3984, 3875, 3798, 3852},
{4000, 3919, 3856, 3892},
{4016, 3962, 3915, 3932},
{4032, 4007, 3974, 3973},
{4048, 4051, 4034, 4013},
{4064, 4070, 4059, 4055},
{4095, 4095, 4095, 4095}};

const uint16_t proztable[256][4] PROGMEM = {
{0,0,0,0},
{1,0,0,0},
{2,0,0,0},
{3,0,0,0},
{4,0,0,0},
{5,0,0,1},
{6,0,0,1},
{7,0,0,1},
{8,0,0,1},
{9,0,0,1},
{10,0,0,1},
{11,0,0,1},
{12,0,0,1},
{13,0,0,1},
{14,0,0,2},
{15,0,0,2},
{16,0,0,2},
{17,0,0,2},
{18,0,0,2},
{19,0,0,2},
{20,0,0,2},
{21,0,0,2},
{22,0,0,2},
{23,0,0,3},
{24,0,0,3},
{25,0,0,3},
{26,0,0,3},
{27,0,0,3},
{28,1,0,3},
{29,1,0,3},
{30,1,0,3},
{31,1,0,4},
{32,1,0,4},
{33,1,0,4},
{34,1,0,4},
{35,1,0,4},
{36,1,0,4},
{37,1,0,5},
{38,1,0,5},
{39,1,0,5},
{40,2,0,5},
{41,2,0,5},
{42,2,0,6},
{43,2,0,6},
{44,2,0,6},
{45,2,0,6},
{46,2,0,6},
{47,2,0,7},
{48,2,0,7},
{49,3,0,7},
{50,3,1,7},
{51,3,1,8},
{52,3,1,8},
{53,3,1,8},
{54,3,1,8},
{55,4,1,9},
{56,4,1,9},
{57,4,1,9},
{58,4,1,10},
{59,4,1,10},
{60,5,1,10},
{61,5,1,10},
{62,5,1,11},
{63,5,1,11},
{64,6,1,11},
{65,6,1,12},
{66,6,2,12},
{67,6,2,12},
{68,7,2,13},
{69,7,2,13},
{70,7,2,13},
{71,7,2,14},
{72,8,2,14},
{73,8,2,15},
{74,8,2,15},
{75,9,3,15},
{76,9,3,16},
{77,9,3,16},
{78,10,3,17},
{79,10,3,17},
{80,10,3,17},
{81,11,3,18},
{82,11,4,18},
{83,11,4,19},
{84,12,4,19},
{85,12,4,20},
{86,13,4,20},
{87,13,4,21},
{88,13,5,21},
{89,14,5,22},
{90,14,5,22},
{91,15,5,23},
{92,15,6,23},
{93,16,6,24},
{94,16,6,24},
{95,17,6,25},
{96,17,6,25},
{97,18,7,26},
{98,18,7,26},
{99,19,7,27},
{100,19,8,28},
{101,20,8,28},
{102,20,8,29},
{103,21,8,29},
{104,21,9,30},
{105,22,9,31},
{106,22,9,31},
{107,23,10,32},
{108,24,10,32},
{109,24,10,33},
{110,25,11,34},
{111,25,11,34},
{112,26,12,35},
{113,27,12,36},
{114,27,12,37},
{115,28,13,37},
{116,29,13,38},
{117,29,14,39},
{118,30,14,39},
{119,31,15,40},
{120,32,15,41},
{121,32,16,42},
{122,33,16,43},
{123,34,16,43},
{124,35,17,44},
{125,35,17,45},
{126,36,18,46},
{127,37,19,47},
{128,38,19,47},
{129,39,20,48},
{130,39,20,49},
{131,40,21,50},
{132,41,21,51},
{133,42,22,52},
{134,43,23,53},
{135,44,23,54},
{136,45,24,54},
{136,46,25,55},
{137,47,25,56},
{138,48,26,57},
{139,49,27,58},
{140,50,28,59},
{141,51,28,60},
{142,51,29,61},
{143,52,30,62},
{144,53,31,63},
{145,55,31,64},
{146,56,32,65},
{147,57,33,66},
{148,58,34,67},
{149,59,35,68},
{150,60,36,70},
{151,61,37,71},
{152,62,38,72},
{153,63,38,73},
{154,64,39,74},
{155,66,40,75},
{156,67,41,76},
{157,68,42,77},
{158,69,43,79},
{159,70,44,80},
{160,72,45,81},
{161,73,47,82},
{162,74,48,83},
{163,75,49,85},
{164,77,50,86},
{165,78,51,87},
{166,79,52,88},
{167,81,53,90},
{168,82,55,91},
{169,83,56,92},
{170,85,57,94},
{171,86,58,95},
{172,87,60,96},
{173,89,61,98},
{174,90,62,99},
{175,92,64,100},
{176,93,65,102},
{177,95,66,103},
{178,96,68,105},
{179,98,69,106},
{180,99,71,108},
{181,101,72,109},
{182,102,74,110},
{183,104,75,112},
{184,105,77,113},
{185,107,78,115},
{186,109,80,117},
{187,110,82,118},
{188,112,83,120},
{189,114,85,121},
{190,115,87,123},
{191,117,88,124},
{192,119,90,126},
{193,120,92,128},
{194,122,94,129},
{195,124,96,131},
{196,126,98,133},
{197,127,99,134},
{198,129,101,136},
{199,131,103,138},
{200,133,105,139},
{201,135,107,141},
{202,137,109,143},
{203,138,111,145},
{204,140,113,146},
{205,142,115,148},
{206,144,118,150},
{207,146,120,152},
{208,148,122,154},
{209,150,124,155},
{210,152,126,157},
{211,154,129,159},
{212,156,131,161},
{213,158,133,163},
{214,160,136,165},
{215,162,138,167},
{216,164,141,169},
{217,167,143,171},
{218,169,146,173},
{219,171,148,175},
{220,173,151,177},
{221,175,153,179},
{222,177,156,181},
{223,180,158,183},
{224,182,161,185},
{225,184,164,187},
{226,186,167,189},
{227,189,169,191},
{228,191,172,194},
{229,193,175,196},
{230,196,178,198},
{231,198,181,200},
{232,201,184,202},
{233,203,187,204},
{234,205,190,207},
{235,208,193,209},
{236,210,196,211},
{237,213,199,214},
{238,215,203,216},
{239,218,206,218},
{240,220,209,221},
{241,223,212,223},
{242,225,216,225},
{243,228,219,228},
{244,231,222,230},
{245,233,226,232},
{246,236,229,235},
{247,239,233,237},
{248,241,237,240},
{249,244,240,242},
{250,247,244,245},
{251,250,247,247},
{252,252,251,250},
{253,253,253,253},
{255,255,255,255}};